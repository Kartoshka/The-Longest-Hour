using UnityEngine;
using System.Collections.Generic;

/// <summary>
/// </summary>
public class ERSpawnManager : MonoBehaviour
{
	//////////////////////////////////////////////////////////////////////////////////////////
	#region GameObjects
	//////////////////////////////////////////////////////////////////////////////////////////   

	public GameObject[] m_groundTilePrefabs;

	#endregion
	//////////////////////////////////////////////////////////////////////////////////////////
	#region Attributes - These will either be created by this class or set by a another.
	//////////////////////////////////////////////////////////////////////////////////////////

	public int m_maxTileCount = 5;
	private LinkedList<GameObject> m_spawnedTiles = new LinkedList<GameObject>();

	#endregion
	//////////////////////////////////////////////////////////////////////////////////////////
	#region Accessors
	//////////////////////////////////////////////////////////////////////////////////////////

	#endregion
	//////////////////////////////////////////////////////////////////////////////////////////
	#region Methods
	//////////////////////////////////////////////////////////////////////////////////////////  

	public void spawnNextTile(Vector3 position, Quaternion rotation)
	{
		if(m_groundTilePrefabs.Length > 0)
		{
			GameObject prefab = m_groundTilePrefabs[0];
			GameObject spawnedObject = (GameObject)Instantiate(prefab, position, rotation);
			m_spawnedTiles.AddLast(spawnedObject);
			if(m_spawnedTiles.Count > m_maxTileCount)
			{
				GameObject expiredObject = m_spawnedTiles.First.Value;
				m_spawnedTiles.RemoveFirst();
				Destroy(expiredObject);
            }
        }
	}

	#endregion
	//////////////////////////////////////////////////////////////////////////////////////////
	#region Runtime
	//////////////////////////////////////////////////////////////////////////////////////////  

	#endregion
	//////////////////////////////////////////////////////////////////////////////////////////
	#region Persistence
	//////////////////////////////////////////////////////////////////////////////////////////

	#endregion
}